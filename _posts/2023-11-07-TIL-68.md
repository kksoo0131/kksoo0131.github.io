---
layout: post
title:  "팀 프로젝트 FosterTheMonster - CardSystem"
date:   2023-11-07
excerpt: "내일배움캠프 68번째 TIL "
tag:
- TIL
- 내일배움캠프
- 스파르타
- TeamProject
- CardSystem
comments: true
---

![nbcbanner](/assets/img/TILbanner.png)

1. CardSystem


<br/>
<br/>


## CardSystem

진행 중인 팀 프로젝트에서 제작을 맡은 Card 부분의 내용을 정리 하려고 한다.

<br/>

### 목적

프로젝트에서 몬스터를 잡아와서 관리하는 부분을 카드를 사용해서 표현하기로 했고

카드를 생성하여 덱을 구성하고 카드를 뽑고 사용하는 기능들을 여러가지 카드 관련 클래스로 구현했다.

<br/>

### CardSystem 도식


![CardSystem을 구현 후 도식화](/assets/img/post/2023-11-07-TIL-68-1.png)


<br/>

### CardManager


1. 사용된 자료구조 : Dictionary, List

이유 : CardManager는 카드의 생성과 랜덤 선택을 구현한 클래스로 카드의 정보를 담은 CardSO를 

저장할 필요가 있었고 CardRarity에 따라서 등장 확률을 다르게 하기 위해서 따로 보관할 필요가 있기 떄문에

CardRarity를 Key로 List<GameObject>를 Value로 가진 Dictionary로 CardSO들을 관리


2. 사용된 외부 라이브러리 클래스 : System.Security.Cryptography.RNGCryptoServiceProvider

이유 : Random 클래스를 사용하여 난수를 생성하게 되면 난수가 일정 패턴을 가지게 되어 

원하는 정도의 랜덤성이 충족되지 않을 수 있기 때문에 RNGCryptoServiceProvider를 활용해

암호학적으로 안전한 패턴이 없는 난수를 생성


3. 사용된 외부 에셋 라이브러리 : DOTween

Card의 간단한 애니메이션을 쉽게 구현하기 위해서 DOTween을 사용하여 Card 게임 오브젝트의

transform을 조정해주는 것으로 애니메이션을 구현


4. 사용된 디자인 패턴 : Singletion

CardSO의 프리펩들을 가지고 있다가 다른 Card 관련 클래스에서 쉽게 호출해서 CardSO를 랜덤으로 선택해야 되기 떄문에

어디서든 호출할 수 있고 프리펩들이 중복해서 로드되는 경우를 방지하기 위해서 싱글톤 패턴을 사용해 구현하였고

CardManager는 게임 플레이 내내 파괴되지 않아야 되기 때문에 Monobehaviour 없이 구현



<br/>
<br/>

![nbcthumbnail](/assets/img/thumbnail-image.png)